#N canvas 37 22 1122 920 10;
#X obj 102 696 loadbang;
#X obj 102 765 / 100;
#X obj 102 741 + 25;
#X obj 102 718 random 50;
#X obj 50 49 random 200;
#X obj 50 5 loadbang;
#X obj 50 170 + 200;
#X obj 755 441 sig~;
#X obj 17 461 *~ 1;
#X obj 17 423 +~ 200;
#X obj 17 388 *~ 1;
#X obj 370 420 +~;
#X obj 370 461 *~ 0;
#X obj 370 325 osc~ 0.04;
#X obj 17 324 osc~ 0.2;
#N canvas 0 22 462 375 dest-freq 0;
#X obj 19 79 / 200;
#X obj 19 114 * 6;
#X obj 19 162 int;
#X obj 19 137 + 2;
#X obj 19 270 mtof;
#X obj 19 186 * 12;
#X obj 19 218 + 2.5;
#X text 17 15 Determines the destination frequency based on the starting
frequency;
#X obj 19 55 inlet;
#X text 56 121 Scale it so we get 6 possible octaves of destination
frequency;
#X text 62 213 Determines ending note. In this case \, halfway between
D and Eb;
#X text 61 79 Get starting frequency as a factor of 1 i.e. 0 = 0 \,
200 = 1;
#X obj 19 313 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 12 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 8 0 0 0;
#X restore 69 135 pd dest-freq;
#X obj 74 643 * 5;
#X text 120 50 Set range of random starting frequencies;
#N canvas 381 432 490 449 scale-dest-vibrato 0;
#X obj 46 183 / 1209;
#X obj 46 226 pow 0.5;
#X obj 46 378 outlet;
#X text 103 173 Get destination frequency as a factor of 1 (1209Hz
is the highest possible ending frequency for the note we have chosen)
;
#X text 106 224 Scale this exponentially;
#X obj 46 262 swap 1;
#X obj 46 292 -;
#X text 45 81 High destination frequencies should have a lower range
of vibrato than low destination frequencies;
#X text 105 281 Invert the results;
#X text 104 330 Scale between 0 and 3;
#X text 103 374 Connected to a [*~] on the oscillator modulating the
destination frequency;
#X text 45 31 Determine the frequency range of vibrato for the destination
frequencies;
#X obj 46 143 inlet;
#X floatatom 64 361 5 0 0 0 - - -;
#X obj 46 331 * 1;
#X obj 84 318 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 5 0 6 0;
#X connect 5 1 6 1;
#X connect 6 0 14 0;
#X connect 12 0 0 0;
#X connect 14 0 2 0;
#X connect 14 0 13 0;
#X connect 15 0 5 0;
#X restore 391 353 pd scale-dest-vibrato;
#N canvas 1055 426 534 349 scale-volume 0;
#X obj 51 107 / 200;
#X obj 51 151 swap 1;
#X obj 51 174 -;
#X obj 51 228 + 0.8;
#X obj 51 66 inlet;
#X text 97 106 Get starting frequency as a factor of 1 i.e. 0 = 0 \,
200 = 1;
#X text 96 165 Invert the results;
#X text 50 12 Calculates the amplitude the voice should be based on
it's frequency. High frequencies should be quieter than low ones.;
#X text 96 227 Set base amplitude;
#X text 113 278 Amplitudes range from 0.8 (high freqs) to 1.8 (low
freqs);
#X obj 51 277 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 4 0 0 0;
#X restore 89 102 pd scale-volume;
#X obj 38 581 lop~ 10;
#X text 142 741 Random placement across narrowed stereo field;
#X obj 755 415 +;
#X obj 755 385 *;
#X obj 789 335 *;
#X obj 50 202 t f f f;
#X text 102 643 Apply lo-pass filter 5x higher than starting frequency
;
#N canvas 0 22 496 439 scale-start-vibrato 0;
#X obj 33 289 pow 0.5;
#X obj 33 166 / 400;
#X obj 33 232 - 0.5;
#X obj 33 257 * 2;
#X obj 33 347 * 10;
#X obj 33 394 outlet;
#X text 33 81 High destination frequencies should have a lower range
of vibrato than low destination frequencies;
#X text 83 165 Get destination frequency as a factor of 1;
#X text 86 289 exponentially;
#X text 86 243 Scale this;
#X text 84 344 Scale it further;
#X text 85 389 Connected to a [*~] on the oscillator modulating the
start frequency;
#X text 33 31 Determine the frequency range of the vibrato for the
destination frequencies;
#X obj 33 121 inlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 13 0 1 0;
#X restore 38 353 pd scale-start-vibrato;
#X obj 89 230 s \$0-start-freq;
#X obj 245 266 swap 1;
#X obj 245 294 -;
#X obj 245 237 t f f;
#X obj 755 266 swap 1;
#X obj 755 294 -;
#X obj 755 237 t f f;
#X text 285 233 Cross-fades between sources for the start and destination
frequencies;
#X text 797 237 Performs the sweep on the oscillator providing the
destination frequency;
#X text 91 581 Scale amplitude (see [pd scale-volume]);
#X obj 50 75 t f f f;
#X text 90 169 Set base level for random starting frequencies = 200-400hz
;
#X text 74 323 Oscillator providing start frequency vibrato;
#X text 433 324 Oscillator providing destination frequency vibrato
;
#X obj 17 860 *~;
#X obj 32 838 line~;
#X obj 87 860 *~;
#X obj 102 838 line~;
#X obj 32 792 swap 1;
#X obj 32 814 -;
#X obj 109 27 t b;
#X obj 17 666 lop~ 44100;
#X obj 245 105 r FREQ;
#X obj 17 527 phasor~;
#X obj 87 882 outlet~;
#X obj 17 882 outlet~;
#X obj 245 214 r sweep;
#X obj 17 604 *~;
#X obj 74 620 r \$0-start-freq;
#X obj 770 361 r \$0-start-freq;
#X obj 370 387 *~ 1;
#X connect 0 0 3 0;
#X connect 1 0 46 0;
#X connect 1 0 45 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 38 0;
#X connect 5 0 4 0;
#X connect 6 0 25 0;
#X connect 7 0 11 1;
#X connect 8 0 51 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 51 0;
#X connect 13 0 58 0;
#X connect 14 0 10 0;
#X connect 15 0 18 0;
#X connect 15 0 24 1;
#X connect 16 0 49 1;
#X connect 18 0 58 1;
#X connect 19 0 20 0;
#X connect 20 0 55 1;
#X connect 22 0 7 0;
#X connect 23 0 22 0;
#X connect 24 0 22 1;
#X connect 25 0 9 1;
#X connect 25 2 28 0;
#X connect 25 2 27 0;
#X connect 27 0 10 1;
#X connect 29 0 30 0;
#X connect 29 1 30 1;
#X connect 30 0 8 1;
#X connect 31 0 29 0;
#X connect 31 1 12 1;
#X connect 32 0 33 0;
#X connect 32 1 33 1;
#X connect 33 0 23 0;
#X connect 34 0 32 0;
#X connect 34 1 24 0;
#X connect 38 0 6 0;
#X connect 38 1 15 0;
#X connect 38 2 19 0;
#X connect 42 0 53 0;
#X connect 43 0 42 1;
#X connect 44 0 52 0;
#X connect 45 0 44 1;
#X connect 46 0 47 0;
#X connect 46 1 47 1;
#X connect 47 0 43 0;
#X connect 48 0 4 0;
#X connect 49 0 42 0;
#X connect 49 0 44 0;
#X connect 50 0 48 0;
#X connect 51 0 55 0;
#X connect 54 0 31 0;
#X connect 54 0 34 0;
#X connect 55 0 49 0;
#X connect 56 0 16 0;
#X connect 57 0 23 1;
#X connect 58 0 11 0;
#X coords 0 920 1 919 78 41 0;
